(this["webpackJsonpmissing-person-site"]=this["webpackJsonpmissing-person-site"]||[]).push([[0],{40:function(e,t,s){},64:function(e,t,s){},66:function(e,t,s){},67:function(e,t,s){},68:function(e,t,s){},69:function(e,t,s){},70:function(e,t,s){},71:function(e,t,s){},72:function(e,t,s){},73:function(e,t,s){"use strict";s.r(t);var c=s(1),n=s.n(c),a=s(20),i=s.n(a),r=(s(40),s(2)),l=s.n(r),d=s(5),o=s(7),j=s(6),b=s.n(j),u=s(9),O=(s(64),s(13)),p=s(0);var h=Object(u.b)((function(e){return e}))((function(e){return Object(c.useEffect)(Object(d.a)(l.a.mark((function t(){var s;return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,b.a.post(window.ip+"/cards");case 2:s=t.sent,e.setCards(s.data);case 4:case"end":return t.stop()}}),t)}))),[]),Object(p.jsx)("div",{class:"row",style:{alignItems:"center"},children:Object(p.jsx)("div",{class:"s12 m7 adjust",children:e.cards.map((function(t){return Object(p.jsxs)("div",{class:"card adjust-flex",children:[Object(p.jsxs)("div",{class:"card-image",children:[Object(p.jsx)(O.b,{to:"/detail/".concat(t._id),children:Object(p.jsx)("img",{src:"".concat(t.mPersonPic)})}),Object(p.jsxs)("span",{class:"card-title",children:[Object(p.jsx)("span",{children:"Name: "}),t.mPersonName]})]}),Object(p.jsx)("div",{class:"card-content",children:Object(p.jsxs)("p",{children:[Object(p.jsx)("span",{children:"Description: "}),t.mPersonDescription]})}),Object(p.jsxs)("div",{class:"card-action",children:[Object(p.jsxs)("a",{children:[Object(p.jsx)("span",{children:"Age: "}),t.mPersonAge]}),Object(p.jsx)("div",{style:e.SiteUserReducer.siteUser._id==t.referenceId?{display:"block"}:{display:"none"},className:"waves-effect waves-light btn-small btn modal-trigger btn-del",onClick:function(){var s=Object(d.a)(l.a.mark((function s(c){var n,a;return l.a.wrap((function(s){for(;;)switch(s.prev=s.next){case 0:if(!window.confirm("Are you sure you wish to clear the page?")){s.next=7;break}return n={delId:t.referenceId,delPersonId:t._id},s.next=4,b.a.post(window.ip+"/delete",n);case 4:a=s.sent,e.setCards(a.data),console.log(a.data);case 7:case"end":return s.stop()}}),s)})));return function(e){return s.apply(this,arguments)}}(),children:"Delete"}),Object(p.jsx)(O.b,{to:"/updatead/"+t._id,children:Object(p.jsx)("div",{style:e.SiteUserReducer.siteUser._id==t.referenceId?{display:"block"}:{display:"none"},className:"waves-effect waves-light btn-small btn modal-trigger btn-del",onClick:Object(d.a)(l.a.mark((function e(){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)}))),children:"Edit"})})]})]})}))})})})),m=s(3),x=(s(66),s(12)),f=s.n(x),v=s(15),g=(s(67),s(19)),w={siteUser:{}};var y=Object(g.b)({SiteUserReducer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:w,t=arguments.length>1?arguments[1]:void 0;return e=Object(m.a)({},e),"LOGIN_OK"==t.type&&(e.siteUser=t.payload),"LOGOUT"==t.type&&(e.siteUser={}),localStorage.setItem("reduces",JSON.stringify(e)),e}}),N=Object(g.c)(y,JSON.parse(localStorage.getItem("reduces")));var S=Object(u.b)((function(e){return e}))((function(){var e=Object(v.a)(),t=e.register,s=e.handleSubmit,c=(e.watch,e.errors,function(){var e=Object(d.a)(l.a.mark((function e(t){var s;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,b.a.post(window.ip+"/login",t);case 2:s=e.sent,f.a.Modal.init(document.getElementById("modal1"),{}).close(),document.getElementById("loginForm").reset(),"User Found"==s.data.msg?(localStorage.setItem("token",s.data.token),localStorage.setItem("userId",s.data._id),N.dispatch({type:"LOGIN_OK",payload:s.data})):"User Not Found"==s.data.msg&&alert("Please Type valid User Name OR Password...!");case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());return Object(p.jsx)("div",{id:"modal1",class:"modal",children:Object(p.jsx)("div",{className:"modal-content",children:Object(p.jsx)("center",{children:Object(p.jsx)("div",{className:"container-login",children:Object(p.jsx)("div",{className:"z-depth-1 grey lighten-4 row",style:{display:"inline-block",padding:"32px 48px 0px 48px",border:"1px solid #EEE"},children:Object(p.jsxs)("form",{id:"loginForm",onSubmit:s(c),className:"col s12",method:"post",children:[Object(p.jsx)("div",{className:"row",children:Object(p.jsx)("div",{className:"col s12"})}),Object(p.jsx)("div",{className:"row",children:Object(p.jsxs)("div",{className:"input-field col s12",children:[Object(p.jsx)("input",Object(m.a)({className:"validate",type:"email",name:"email",id:"email"},t("email"))),Object(p.jsx)("label",{for:"email",children:"Enter your email"})]})}),Object(p.jsx)("div",{className:"row",children:Object(p.jsxs)("div",{className:"input-field col s12",children:[Object(p.jsx)("input",Object(m.a)({className:"validate",type:"password",name:"password",id:"password"},t("password"))),Object(p.jsx)("label",{for:"password",children:"Enter your password"})]})}),Object(p.jsx)("br",{}),Object(p.jsx)("center",{children:Object(p.jsx)("div",{className:"row",children:Object(p.jsx)("button",{type:"submit",name:"btn_login",className:"col s12 btn btn-large waves-effect indigo",children:"Login"})})})]})})})})})})}));s(68);function k(){var e=Object(v.a)(),t=e.register,s=e.handleSubmit,c=function(){var e=Object(d.a)(l.a.mark((function e(t){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log(t),e.next=3,b.a.post(window.ip+"/signup",t);case 3:e.sent,f.a.Modal.init(document.getElementById("modal2"),{}).close(),document.getElementById("reg-form").reset();case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(p.jsx)("div",{className:"container-signup modal",id:"modal2",children:Object(p.jsx)("div",{className:"row",children:Object(p.jsxs)("form",{onSubmit:s(c),className:"col s12",id:"reg-form",children:[Object(p.jsx)("div",{className:"row",children:Object(p.jsxs)("div",{className:"input-field col s12",children:[Object(p.jsx)("input",Object(m.a)({id:"name",type:"text",className:"validate",required:!0},t("name"))),Object(p.jsx)("label",{for:"name",children:"Name"})]})}),Object(p.jsx)("div",{className:"row",children:Object(p.jsxs)("div",{className:"input-field col s12",children:[Object(p.jsx)("input",Object(m.a)({id:"email",type:"email",className:"validate",required:!0},t("email"))),Object(p.jsx)("label",{for:"email",children:"Email"})]})}),Object(p.jsx)("div",{className:"row",children:Object(p.jsxs)("div",{className:"input-field col s12",children:[Object(p.jsx)("input",Object(m.a)({id:"password",type:"password",className:"validate",minlength:"6",required:!0},t("password"))),Object(p.jsx)("label",{for:"password",children:"Password"})]})}),Object(p.jsx)("div",{className:"row",children:Object(p.jsxs)("div",{className:"input-field col s12",children:[Object(p.jsx)("input",Object(m.a)({id:"contact",type:"tel",name:"contact",placeholder:"03127654321",pattern:"[0-9]{11}",className:"validate",required:!0},t("contact"))),Object(p.jsx)("label",{for:"contact",children:"Contact No."})]})}),Object(p.jsx)("div",{className:"row",children:Object(p.jsx)("div",{className:"input-field col ",children:Object(p.jsx)("button",{className:"btn btn-large btn-register waves-effect waves-light",type:"submit",children:"Sign Up"})})})]})})})}var U=Object(u.b)((function(e){return e}))((function(e){var t=Object(c.useState)({}),s=Object(o.a)(t,2),n=s[0],a=s[1];return Object(p.jsxs)("div",{children:[Object(p.jsx)(S,{}),Object(p.jsx)(k,{}),Object(p.jsx)("nav",{class:"nav-extended  pushpin z-depth-3",children:Object(p.jsxs)("div",{className:"nav-wrapper",children:[Object(p.jsx)("input",{id:"search-input",placeholder:"Search",type:"text",class:"browser-default search-field",name:"q",autocomplete:"off","aria-label":"Search box",onInput:function(){var t=Object(d.a)(l.a.mark((function t(s){var c,i;return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a(Object(m.a)(Object(m.a)({},n),{},{name:s.target.value})),c={mPersonName:n.name},console.log(c.mPersonName),t.next=5,b.a.post(window.ip+"/search",c);case 5:i=t.sent,e.setCards(i.data),console.log(i.data);case 8:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}),Object(p.jsx)("a",{onClick:function(){f.a.Sidenav.init(document.querySelectorAll(".sidenav"),{})},"data-target":"mobile-demo",class:"sidenav-trigger",children:Object(p.jsx)("i",{class:"material-icons",children:"menu"})}),Object(p.jsxs)("ul",{className:"right hide-on-med-and-down",children:[Object(p.jsxs)("li",{style:e.SiteUserReducer.siteUser._id?{display:"block"}:{display:"none"},children:[Object(p.jsx)("span",{className:"hello",children:"Hello..!  "}),Object(p.jsx)("span",{className:"user",children:e.SiteUserReducer.siteUser.name})]}),Object(p.jsx)("li",{style:e.SiteUserReducer.siteUser._id?{display:"block"}:{display:"none"},children:Object(p.jsx)(O.b,{to:"/postad",children:Object(p.jsx)("a",{className:"waves-effect waves-light btn-small btn modal-trigger",children:"Post Ad"})})}),Object(p.jsx)("li",{style:e.SiteUserReducer.siteUser._id?{display:"block"}:{display:"none"},children:Object(p.jsx)("a",{className:"waves-effect waves-light btn-small btn modal-trigger",onClick:function(){N.dispatch({type:"LOGOUT"}),localStorage.removeItem("token"),localStorage.removeItem("userId")},children:"Logout"})}),Object(p.jsx)("li",{style:e.SiteUserReducer.siteUser._id?{display:"none"}:{display:"block"},children:Object(p.jsx)("a",{onClick:function(){f.a.Modal.init(document.getElementById("modal1"),{}).open()},children:"Login"})}),Object(p.jsx)("li",{style:e.SiteUserReducer.siteUser._id?{display:"none"}:{display:"block"},children:Object(p.jsx)("a",{onClick:function(){f.a.Modal.init(document.getElementById("modal2"),{}).open()},children:"SignUp"})})]})]})}),Object(p.jsxs)("ul",{className:"sidenav",id:"mobile-demo",children:[Object(p.jsx)("li",{style:e.SiteUserReducer.siteUser._id?{display:"block"}:{display:"none"},children:Object(p.jsx)(O.b,{to:"/postad",children:Object(p.jsx)("a",{className:"post-ad",onClick:function(){f.a.Sidenav.init(document.querySelectorAll(".sidenav"),{})},children:"Post Ad"})})}),Object(p.jsx)("li",{style:e.SiteUserReducer.siteUser._id?{display:"block"}:{display:"none"},children:Object(p.jsx)("a",{className:"post-ad",onClick:function(){N.dispatch({type:"LOGOUT"}),localStorage.removeItem("token"),localStorage.removeItem("userId")},children:"Logout"})}),Object(p.jsx)("li",{style:e.SiteUserReducer.siteUser._id?{display:"none"}:{display:"block"},children:Object(p.jsx)("a",{onClick:function(){f.a.Modal.init(document.getElementById("modal1"),{}).open()},children:"Login"})}),Object(p.jsx)("li",{style:e.SiteUserReducer.siteUser._id?{display:"none"}:{display:"block"},children:Object(p.jsx)("a",{onClick:function(){f.a.Modal.init(document.getElementById("modal2"),{}).open()},children:"SignUp"})})]})]})})),P=s(4);s(69);var I=Object(u.b)((function(e){return e}))((function(e){var t=Object(P.h)(),s=Object(v.a)(),c=s.register,n=s.handleSubmit,a=(s.watch,s.errors,function(){var e=Object(d.a)(l.a.mark((function e(s){var c,n;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(n in s.missingPic=s.missingPic[0],c=new FormData,s)c.append(n,s[n]);return e.next=5,b.a.post(window.ip+"/postad",c);case 5:e.sent,t("/");case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());return Object(p.jsx)(p.Fragment,{children:localStorage.getItem("token")?Object(p.jsx)("div",{className:"full",children:Object(p.jsxs)("div",{className:"container",children:[Object(p.jsx)("div",{children:Object(p.jsx)("center",{children:Object(p.jsx)("h3",{children:"Post Ad"})})}),Object(p.jsx)("h6",{style:{display:"none"},children:Object(p.jsx)("input",Object(m.a)(Object(m.a)({},c("id")),{},{value:e.SiteUserReducer.siteUser._id}))}),Object(p.jsx)("div",{class:"div",children:Object(p.jsx)("div",{class:"row",children:Object(p.jsxs)("form",{onSubmit:n(a),class:"col s12",children:[Object(p.jsx)("div",{class:"row",children:Object(p.jsxs)("div",{class:"input-field col s12",children:[Object(p.jsx)("input",Object(m.a)({id:"name",type:"text"},c("missingName"))),Object(p.jsx)("label",{for:"name",children:"Name"})]})}),Object(p.jsx)("div",{class:"row",children:Object(p.jsxs)("div",{class:"input-field col s12",children:[Object(p.jsx)("input",Object(m.a)({id:"age",type:"number",min:"1"},c("missingAge"))),Object(p.jsx)("label",{for:"age",children:"Age"})]})}),Object(p.jsx)("div",{class:"row",children:Object(p.jsx)("div",{class:"col s12",children:Object(p.jsx)("div",{class:"row",children:Object(p.jsxs)("div",{class:"input-field col s12",children:[Object(p.jsx)("textarea",Object(m.a)({id:"description",class:"materialize-textarea"},c("missingDescription"))),Object(p.jsx)("label",{for:"description",children:"Description"})]})})})}),Object(p.jsx)("div",{class:"row",children:Object(p.jsx)("div",{class:"file-field input-field",children:Object(p.jsxs)("div",{class:"file-path-wrapper",children:[Object(p.jsx)("input",{class:"file-path validate",type:"text",placeholder:"Upload Picture"}),Object(p.jsxs)("div",{class:"btn",children:[Object(p.jsx)("span",{children:"Browse"}),Object(p.jsx)("input",Object(m.a)({type:"file",required:!0},c("missingPic")))]})]})})}),Object(p.jsx)("center",{children:Object(p.jsxs)("button",{class:"btn waves-effect waves-light",type:"submit",children:["Post",Object(p.jsx)("i",{class:"material-icons right",children:"send"})]})})]})})})]})}):t("/")})})),C=(s(70),s(11));s(71);var _=Object(u.b)((function(e){return e}))((function(e){var t=window.location.href.split("/")[4];console.log(e);var s=Object(P.h)(),n=Object(c.useState)({}),a=Object(o.a)(n,2),i=a[0],r=a[1];Object(c.useEffect)(Object(d.a)(l.a.mark((function e(){var s;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,b.a.post(window.ip+"/updatevalues",{id:t});case 2:s=e.sent,console.log(s),r(s.data);case 5:case"end":return e.stop()}}),e)}))),[]),console.log(i);var j=Object(v.a)(),u=j.register,O=j.handleSubmit,h=(j.watch,j.errors,function(){var e=Object(d.a)(l.a.mark((function e(t){var c,n,a;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(a in(c=Object(m.a)(Object(m.a)({},i),t)).missingPic&&0!=c.missingPic.length&&(c.missingPic=c.missingPic[0]),n=new FormData,c)n.append(a,c[a]),console.log(a,t[a]);return e.next=6,b.a.post(window.ip+"/updatead",n);case 6:e.sent,s("/");case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());return Object(p.jsx)(p.Fragment,{children:localStorage.getItem("token")?Object(p.jsx)("div",{className:"full",children:Object(p.jsxs)("div",{className:"container",children:[Object(p.jsx)("div",{children:Object(p.jsx)("center",{children:Object(p.jsx)("h3",{children:"Update Ad"})})}),Object(p.jsx)("h6",{style:{display:"none"},children:Object(p.jsx)("input",Object(m.a)({value:t},u("id")))}),Object(p.jsx)("div",{class:"div",children:Object(p.jsx)("div",{class:"row",children:Object(p.jsxs)("form",{onSubmit:O(h),class:"col s12",children:[Object(p.jsx)("div",{class:"row",children:Object(p.jsx)("div",{class:"input-field col s12",children:Object(p.jsx)("input",Object(m.a)({id:"name",type:"text",defaultValue:i.mPersonName,onChange:function(e){r(Object(m.a)(Object(m.a)({},i),{},Object(C.a)({},e.target.name,e.target.value)))}},u("missingName")))})}),Object(p.jsx)("div",{class:"row",children:Object(p.jsx)("div",{class:"input-field col s12",children:Object(p.jsx)("input",Object(m.a)({id:"age",type:"number",min:"1",defaultValue:i.mPersonAge,onChange:function(e){r(Object(m.a)(Object(m.a)({},i),{},Object(C.a)({},e.target.name,e.target.value)))}},u("missingAge")))})}),Object(p.jsx)("div",{class:"row",children:Object(p.jsx)("div",{class:"col s12",children:Object(p.jsx)("div",{class:"row",children:Object(p.jsx)("div",{class:"input-field col s12",children:Object(p.jsx)("textarea",Object(m.a)({id:"description",class:"materialize-textarea",defaultValue:i.mPersonDescription,onChange:function(e){r(Object(m.a)(Object(m.a)({},i),{},Object(C.a)({},e.target.name,e.target.value)))}},u("missingDescription")))})})})}),Object(p.jsx)("div",{class:"row",children:Object(p.jsx)("div",{class:"file-field input-field",children:Object(p.jsxs)("div",{class:"file-path-wrapper",children:[Object(p.jsx)("input",{class:"file-path validate",type:"text",defaultValue:i.mPersonPic}),Object(p.jsxs)("div",{class:"btn",children:[Object(p.jsx)("span",{children:"Browse"}),Object(p.jsx)("input",Object(m.a)({type:"file",defaultValue:i.mPersonPic,onChange:function(e){r(Object(m.a)(Object(m.a)({},i),{},Object(C.a)({},e.target.name,e.target.value)))}},u("missingPic")))]})]})})}),Object(p.jsx)("center",{children:Object(p.jsxs)("button",{class:"btn waves-effect waves-light",type:"submit",children:["Update",Object(p.jsx)("i",{class:"material-icons autorenew",children:"autorenew"})]})})]})})})]})}):s("/")})}));s(72);var E=Object(u.b)((function(e){return e}))((function(e){var t=Object(c.useState)({}),s=Object(o.a)(t,2),n=s[0],a=s[1],i=Object(c.useState)(),r=Object(o.a)(i,2),j=r[0],u=r[1],O=window.location.href.split("/")[4];return Object(c.useEffect)((function(){function e(){return(e=Object(d.a)(l.a.mark((function e(){var t;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,b.a.post(window.ip+"/detail/"+O);case 2:t=e.sent,console.log(t),a(t.data),u(t.data.referenceId.contact);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[]),Object(p.jsxs)("div",{children:[Object(p.jsx)(U,{}),Object(p.jsxs)("div",{class:"card adjust-flex",children:[Object(p.jsxs)("div",{class:"card-image",children:[Object(p.jsx)("img",{src:"/".concat(n.mPersonPic)}),Object(p.jsxs)("span",{class:"card-title",children:[Object(p.jsx)("span",{children:"Name: "}),n.mPersonName]})]}),Object(p.jsx)("div",{class:"card-content",children:Object(p.jsxs)("p",{children:[Object(p.jsx)("span",{children:"Description: "}),n.mPersonDescription]})}),Object(p.jsxs)("div",{class:"card-action",children:[Object(p.jsxs)("a",{children:[Object(p.jsx)("span",{children:"Age: "}),n.mPersonAge]}),/iPhone|iPad|iPod|Android/i.test(navigator.userAgent)&&Object(p.jsx)("a",{href:"tel:"+j,children:Object(p.jsx)("div",{className:"waves-effect waves-light btn-small btn modal-trigger btn-del",children:"Contact"})})]})]})]})}));function A(){var e=Object(c.useState)([]),t=Object(o.a)(e,2),s=t[0],n=t[1];return Object(c.useEffect)(Object(d.a)(l.a.mark((function e(){var t,s;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null==(t=localStorage.getItem("token"))){e.next=12;break}return e.prev=2,e.next=5,b.a.post(window.ip+"/checksession",{token:t});case 5:s=e.sent,N.dispatch({type:"LOGIN_OK",payload:s.data}),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(2),console.log(e.t0);case 12:case"end":return e.stop()}}),e,null,[[2,9]])}))),[]),Object(p.jsxs)("div",{children:[Object(p.jsx)(U,{setCards:n}),Object(p.jsx)(h,{setCards:n,cards:s}),Object(p.jsx)(P.a,{})]})}function R(){return Object(p.jsx)("h1",{children:"Not Found"})}var F=function(){return Object(p.jsx)(O.a,{className:"flow",children:Object(p.jsxs)(u.a,{store:N,children:[Object(p.jsx)(P.b,{exact:!0,path:"/"}),Object(p.jsxs)(P.d,{children:[Object(p.jsx)(P.b,{path:"/",element:Object(p.jsx)(A,{})}),Object(p.jsx)(P.b,{path:"/detail/:_id",element:Object(p.jsx)(E,{})}),Object(p.jsx)(P.b,{path:"/updatead/:id",element:Object(p.jsx)(_,{})}),Object(p.jsx)(P.b,{path:"/postad",element:Object(p.jsx)(I,{})}),Object(p.jsx)(P.b,{path:"*",element:Object(p.jsx)(R,{})})]})]})})},L=function(e){e&&e instanceof Function&&s.e(3).then(s.bind(null,75)).then((function(t){var s=t.getCLS,c=t.getFID,n=t.getFCP,a=t.getLCP,i=t.getTTFB;s(e),c(e),n(e),a(e),i(e)}))};i.a.render(Object(p.jsx)(n.a.StrictMode,{children:Object(p.jsx)(F,{})}),document.getElementById("root")),L()}},[[73,1,2]]]);
//# sourceMappingURL=main.8cbe1bbc.chunk.js.map